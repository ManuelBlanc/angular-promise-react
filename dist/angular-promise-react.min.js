/*! angular-promise-react v0.8.0 */;!function(){"use strict";var a=angular.module("promise-react",["promise-react-templates"]);a.constant("STATES",{IDLE:"idle",LOADING:"loading",INTERMEDIATE:"intermediate",DONE:"done",FAILED:"failed"})}(),function(){"use strict";var a=angular.module("promise-react");a.factory("promiseButtonIf",["ngIfDirective",function(a){var b=a[0];return function(a){var c=angular.extend({},b);return c.scope=!1,c.priority--,c.require="^promiseButton",delete c.name,delete c.compile,c.link=function(c,d,e){var f=e.ngIf,g=arguments,h=this;e.ngIf=function(){return f&&!c.$eval(f)?!1:a.apply(h,g)},b.link.apply(b,g)},c}}]),a.directive("whenProgress",["promiseButtonIf","STATES",function(a,b){return a(function(a,c,d,e){var f=d.whenProgress;return f?e.status===b.INTERMEDIATE&&e.state===a.$eval(f):e.status===b.INTERMEDIATE||e.status===b.LOADING})}]),a.directive("whenPromise",["promiseButtonIf","STATES",function(a,b){return a(function(a,c,d,e){var f=d.whenPromise;return f?e.status===f:e.status!==b.IDLE})}])}(),function(){"use strict";var a=angular.module("promise-react");a.directive("promiseDefault",function(){return{scope:!1,restrict:"E",templateUrl:"directives/promise-default.tpl.html",transclude:!0}})}(),function(){"use strict";var a=angular.module("promise-react");a.controller("PromiseButtonController",["$scope","STATES","$timeout",function(a,b,c){var d=this;d.action=null;var e=this,f=function(c,d){switch(e.status=c,a.status=c,c){case b.INTERMEDIATE:case b.DONE:case b.FAILED:a.state=d,e.state=d;break;default:delete e.state,delete a.state}};f(b.IDLE),d.startAction=function(){if(a.status===b.IDLE&&d.action){f(b.LOADING);var e=function(a){return function(d){f(a,d),c(function(){f(b.IDLE)},500)}},g=function(a){f(b.INTERMEDIATE,a)};return d.action(a).then(e(b.DONE),e(b.FAILED),g)}}}])}(),function(){"use strict";var a=angular.module("promise-react");a.directive("promiseButton",["$parse",function(a){return{controller:"PromiseButtonController",restrict:"A",compile:function(b,c){var d=a(c.promiseButton,null,!0);return function(a,b,c,e){e.action=d;var f=c.promiseTrigger||"click";b.bind(f,function(){a.$apply(e.startAction)})}}}}])}(),angular.module("promise-react-templates",["directives/promise-default.tpl.html"]),angular.module("directives/promise-default.tpl.html",[]).run(["$templateCache",function(a){a.put("directives/promise-default.tpl.html",'<span ng-transclude when-promise="idle"></span>\n<i class="fa fa-refresh fa-spin" when-progress></i>\n<i class="fa fa-check" when-promise="done"></i>\n<i class="fa fa-times" when-promise="failed"></i>')}]);